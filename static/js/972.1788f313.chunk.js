"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[972],{342:(e,s,t)=>{t.d(s,{A:()=>o});var l=t(43),a=t(216),i=t(3),r=t(441);const o=()=>{const e=(0,a.zy)(),s=(0,i.d4)(r.jb),t=(0,a.Zp)();let o=(0,a.g)().userId;(0,l.useEffect)(()=>{o||t(s?e:"/login")},[t,s])}},972:(e,s,t)=>{t.r(s),t.d(s,{default:()=>F});const l={profileMain:"ProfileInfo_profileMain__7GnZF",avatar:"ProfileInfo_avatar__OJigT"};var a=t(129),i=t(384),r=t(43),o=t(3),n=t(302),d=t(441);const c=e=>e.profilePage.profile,u=e=>e.profilePage.profileStatus,p=e=>e.profilePage.postData;var x=t(579);const m=e=>{const[s,t]=(0,r.useState)(!1),l=(0,o.d4)(d.LE),a=(0,o.d4)(u),[i,c]=(0,r.useState)(a),p=(0,o.wA)();(0,r.useEffect)(()=>{c(a)},[a]);return(0,x.jsx)("div",{children:l!==e.profileId?(0,x.jsx)("div",{children:(0,x.jsx)("span",{children:a})}):(0,x.jsx)("div",{children:s?(0,x.jsx)("div",{children:(0,x.jsx)("input",{className:"inputTest",name:"status",onChange:e=>{c(e.target.value)},autoFocus:!0,placeholder:"Status",onBlur:()=>{t(!1),p((0,n.Wd)(i))},type:"text",value:i})}):(0,x.jsx)("div",{children:(0,x.jsx)("span",{"data-testid":"status",onDoubleClick:()=>{t(!0)},children:a})})})})},j=(0,r.memo)(m),h=e=>{let{profile:s}=e;return s?(0,x.jsx)("div",{className:l.profileInfo,children:(0,x.jsxs)("div",{className:l.profileMain,children:[(0,x.jsx)("img",{className:l.avatar,src:s.photos.large?s.photos.large:i,alt:"Avatar"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{children:s.fullName}),(0,x.jsx)(j,{profileId:s.userId})]})]})}):(0,x.jsx)(a.A,{})},v=(0,r.memo)(h),_="MyPosts_myPosts__jTWRD",f="MyPosts_posts__Im4u5",g="Post_item__q7I6O",k="Post_info__Xw9Ia",P="Post_likeButton__LP4sL",I="Post_likeIcon__2k2vD",N=e=>(0,x.jsxs)("div",{className:g,children:[(0,x.jsx)("img",{src:i,alt:"Logo"}),(0,x.jsxs)("div",{className:k,children:[(0,x.jsx)("p",{children:e.message}),(0,x.jsxs)("button",{onClick:()=>{e.likeButtonClick(e.id)},className:P,children:[(0,x.jsx)("span",{children:e.likeCount}),(0,x.jsx)("span",{className:I,children:"\u2764"})]})]})]}),C=(0,r.memo)(N);var y=t(892);const A="PostForm_errorBorder__1DmBO",b="PostForm_addPostButton__cIt+y";var w=t(899);const B=w.Ik().shape({postText:w.Yj().required("Required")}),T=()=>{const e=(0,o.wA)();return(0,x.jsx)(y.l1,{initialValues:{postText:""},onSubmit:(s,t)=>{e((0,n.oL)(s.postText)),t.resetForm()},validateOnBlur:!1,validateOnChange:!0,validationSchema:B,children:e=>{let{errors:s}=e;return(0,x.jsxs)(y.lV,{children:[(0,x.jsx)("div",{children:(0,x.jsx)(y.D0,{component:"textarea",className:s.postText?A:null,cols:"40",rows:3,type:"text",name:"postText"})}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{type:"submit",className:b,children:"Add post"})})]})}})},M=()=>{const e=(0,o.d4)(p);let s=(0,o.wA)(),t=e=>{s((0,n.XA)(e))},l=e.map(e=>(0,x.jsx)(C,{likeButtonClick:t,message:e.message,likeCount:e.likeCount,id:e.id},e.id));return(0,x.jsxs)("div",{className:_,children:[(0,x.jsx)("h3",{children:"My posts"}),(0,x.jsx)("div",{children:(0,x.jsx)(T,{})}),(0,x.jsx)("div",{className:f,children:l})]})},D=r.memo(M);var L=t(216),S=t(342);const E=()=>{const e=(0,L.g)(),s=(0,o.d4)(d.LE),t=(0,o.d4)(c),l=(0,o.wA)();return(0,S.A)(),(0,r.useEffect)(()=>{let t=e.userId;return t||(t=s),t&&(l((0,n.VM)(t)),l((0,n.C7)(t))),()=>{l((0,n.k2)(null))}},[e]),(0,x.jsxs)("div",{children:[(0,x.jsx)(v,{profile:t}),(0,x.jsx)(D,{})]})},F=(0,r.memo)(E)}}]);
//# sourceMappingURL=972.1788f313.chunk.js.map